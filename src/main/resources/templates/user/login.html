<!DOCTYPE html>
<html lang="ko" 
    xmlns:th="http://www.thymeleaf.org" 
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{layout/default}">
        
		<section layout:fragment="contents" class="contents d-flex justify-content-center">
			<div class="input-box rounded-lg my-5 p-4">
			<!-- 
			<div class="input-box d-flex justify-content-center">
				<div class="border border-secondary rounded-lg col-10 m-4">
			 -->
					<h1 class="text-center mt-3">로그인</h1>
					<input type="text" class="form-control mt-4" placeholder="아이디" id="idInput">
					<input type="password" class="form-control mt-3" placeholder="비밀번호" id="passwordInput">
				<button type="button" class="btn btn-secondary btn-block w-100 mt-4" id="loginBtn">로그인</button>
				
					<div class="text-center mt-3"><a href="/user/join-view">회원가입</a></div>
				<!-- 
				</div>
				 -->
			</div>
		</section>
		
		
		
	<script layout:fragment="script">
	
	$(document).ready(function(){

		$("#loginBtn").on("click",function(){

			let loginId = $("#idInput").val();
			let password = $("#passwordInput").val();
			
			if(loginId == ""){
				alert("아이디를 입력하세요");
				return;
			}
			if(password == ""){
				alert("비밀번호를 입력하세요");
				return;
			}
			
			
			$.ajax({
					type:"post"
					,url:"/user/login"
					,data:{"loginId":loginId,"password":password}
					, success:function(response){
						if(response.result = "success"){
						alert("로그인 성공");
						//location.href="#";
						} else {
						alert("로그인 실패");
						}
					}
					, error:function(){
						alert("로그인 에러!!")
					}	
			});
		
		
		
		});
	
	
	
	
	});
	
	
	
	</script>
		


</html>